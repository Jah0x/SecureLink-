# Лог разработки

- Заменены все упоминания Mocha на Hunko.
- Реализована собственная система аутентификации через сервер Hunko.
- Добавлен скрипт установки `install.sh`.
- Создан Kubernetes-манифест `k8s/deployment.yaml`.
- Обновлена документация и зависимости проекта.
- Проверена установка зависимостей, исправлены ошибки сборки, добавлены типы пользователя и статистики партнёров.
- Настроены локальные статические ресурсы и обновлён манифест для собственного сервиса Hunko.
- Удалены бинарные иконки из репозитория; добавлены инструкции по их ручному размещению в каталоге `public/`.
- Добавлены маршруты совместимости для OAuth (`/auth/authorisationurl`, `/thirdparty/:provider/redirect_url`) и health-check `/healthz`.
- В `AuthProvider` вынесен базовый URL API в переменную `NEXT_PUBLIC_API_BASE_URL`.
- Настроен `vite.config.ts` для поддержки `NEXT_PUBLIC_*` переменных.
- Исправлено формирование OAuth URL: теперь используется `/thirdparty/authorisationurl` с передачей `redirectURIOnProviderDashboard`, что корректно перенаправляет пользователя после входа через Google.
- Добавлен фолбэк для `getOAuthRedirectUrl` с поддержкой параметра `redirect_url` и внутренних адресов Hanko, что убирает ошибку `Invalid URL string`.
- Реализована авторизация по email и паролю, добавлена страница регистрации в том же дизайне, что и страница входа.
- Переработан OAuth‑флоу: теперь обмен кода на сессию идёт через `/api/sessions`, куки ставятся с `SameSite=Lax`, а `GET /api/users/me` обращается к Hanko.
- Формы входа и регистрации используют `credentials: include`, показывают ошибки и спиннеры.
- Dev-скрипт запускает одновременно API и Vite с помощью `concurrently`.
- Добавлены алиасы TypeScript `@/worker` и обновлены `tsconfig` файлы.
- Kubernetes-манифест теперь использует порт 5173 и проверку `/healthz` в liveness/readiness‑пробах.
- Обновлены `.env.example` и `README.md` с описанием обязательных переменных и новых портов.
